(this["webpackJsonpform-survey"]=this["webpackJsonpform-survey"]||[]).push([[0],{28:function(e,n,t){},46:function(e,n,t){},47:function(e,n,t){"use strict";t.r(n);var a,i,r,o,l=t(0),s=t.n(l),c=t(5),d=t.n(c),u=(t(28),t(23)),b=t(8),v=t(22),j=t(15),p=t.n(j),m=t(19),x=t(7),h=t(9),O=function(e){var n=Object(l.useState)((null===e||void 0===e?void 0:e.initialValues)||{}),t=Object(b.a)(n,2),a=t[0],i=t[1],r=Object(l.useState)({}),o=Object(b.a)(r,2),s=o[0],c=o[1];return{data:a,handleChange:function(e,n){return function(t){var r=n?n(t.target.value):t.target.value;i(Object(h.a)(Object(h.a)({},a),{},Object(x.a)({},e,r)))}},handleSubmit:function(){var n=Object(m.a)(p.a.mark((function n(t){var i,r,o,l,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),!(i=null===e||void 0===e?void 0:e.validations)){n.next=9;break}for(s in r=!0,o={},l=function(e){var n=a[e],t=i[e];if(Array.isArray(n)){var l=[];n.forEach((function(e,n){var a={};for(var i in e){var o,s;if((null===t||void 0===t||null===(o=t.required)||void 0===o?void 0:o.value)&&!e[i])r=!1,a[i]=null===t||void 0===t||null===(s=t.required)||void 0===s?void 0:s.message;var c=null===t||void 0===t?void 0:t.pattern;(null===c||void 0===c?void 0:c.value)&&!RegExp(c.value).test(e[i])&&(r=!1,a[i]=c.message);var d=null===t||void 0===t?void 0:t.custom;(null===d||void 0===d?void 0:d.isValid)&&!d.isValid(e[i])&&(r=!1,a[i]=d.message)}Object.keys(a).length&&(l[n]=a)})),l.length&&(o[e]=l)}else{var s,c;if((null===t||void 0===t||null===(s=t.required)||void 0===s?void 0:s.value)&&!n)r=!1,o[e]=null===t||void 0===t||null===(c=t.required)||void 0===c?void 0:c.message;var d=null===t||void 0===t?void 0:t.pattern;(null===d||void 0===d?void 0:d.value)&&!RegExp(d.value).test(n)&&(r=!1,o[e]=d.message);var u=null===t||void 0===t?void 0:t.custom;(null===u||void 0===u?void 0:u.isValid)&&!u.isValid(n)&&(r=!1,o[e]=u.message)}},i)l(s);if(r){n.next=9;break}return n.abrupt("return",c(o));case 9:c({}),(null===e||void 0===e?void 0:e.onSubmit)&&e.onSubmit(a);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),setFieldValue:function(e,n){i(Object(h.a)(Object(h.a)({},a),{},Object(x.a)({},e,n)))},resetForm:function(){i((null===e||void 0===e?void 0:e.initialValues)||{})},errors:s}},f=t(2),g=t(3),y=g.a.div(a||(a=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),C=t(1),N=function(e){var n=e.type,t=void 0===n?"text":n,a=e.value,i=void 0===a?"":a,r=e.placeholder,o=void 0===r?"":r,l=e.required,s=void 0!==l&&l,c=e.onChange,d=void 0===c?function(){}:c,u=e.error,b=void 0===u?"":u,v=e.name,j=void 0===v?"":v,p=e.className,m=void 0===p?"":p;return Object(C.jsxs)(y,{className:m,children:[Object(C.jsx)("input",{"data-testid":"custom-input",type:t,name:j,id:"custom-input",placeholder:o,value:i,onChange:d,required:s}),!!b&&Object(C.jsx)("p",{"data-testid":"input-error",className:"error",children:b})]})},w=g.a.div(i||(i=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),k=function(e){var n=e.name,t=e.onChange,a=e.options,i=e.error;return Object(C.jsxs)(w,{children:[Object(C.jsxs)("select",{name:n,onChange:t,children:[Object(C.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select unit"}),a.map((function(e,n){return Object(C.jsx)("option",{value:e.value,children:e.label},n+e.label)}))]}),!!i&&Object(C.jsx)("p",{className:"error",children:i})]})},S=Object(l.memo)(k),D={name:{required:{value:!0,message:"Please enter your name"},pattern:{value:"^[A-Za-z]*$",message:"You're not allowed to use special characters or numbers in your name."}},details:{required:{value:!0,message:"Input can't be empty"}}},F=[{value:"Bank",label:"Bank"},{value:"Tank",label:"Tank"},{value:"Sank",label:"Sank"}],V=[{value:"Year",label:"Year"},{value:"Month",label:"Month"}],q={name:"",projects:[F[0],F[1]],details:[]},T=g.a.div(r||(r=Object(f.a)(["\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  padding: 8px;\n  position: relative;\n  margin-bottom: 15px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n\n  .delete-button {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 8px;\n    transform: translate(10px, -10px);\n    border-radius: 50%;\n    border: none;\n    cursor: pointer;\n  }\n\n  .card-row {\n    display: flex;\n    align-items: baseline;\n    justify-content: center;\n\n    p {\n      margin-right: 4px;\n    }\n  }\n"]))),J=function(e){var n,t,a,i,r=e.handleDelete,o=e.handleDetailsChange,l=e.details,s=e.projects,c=e.index,d=e.errors;return Object(C.jsxs)(T,{children:[Object(C.jsx)("button",{className:"delete-button",type:"button",onClick:r,children:"X"}),Object(C.jsxs)("div",{className:"card-row",children:[Object(C.jsx)("p",{children:"Project: "}),Object(C.jsx)(S,{name:"project",options:s.map((function(e){return{value:e.value,label:e.label}})),onChange:function(e){o(c,e)},error:null===d||void 0===d||null===(n=d[c])||void 0===n?void 0:n.project})]}),Object(C.jsxs)("div",{className:"card-row",children:[Object(C.jsx)("p",{children:"Details"}),Object(C.jsx)(N,{name:"details",placeholder:"Details",value:l[c].details,onChange:function(e){o(c,e)},error:null===d||void 0===d||null===(t=d[c])||void 0===t?void 0:t.details})]}),Object(C.jsxs)("div",{className:"card-row",children:[Object(C.jsx)("p",{children:"Duration"}),Object(C.jsx)(N,{name:"duration",type:"number",value:l[c].duration,onChange:function(e){o(c,e)},error:null===d||void 0===d||null===(a=d[c])||void 0===a?void 0:a.duration}),Object(C.jsx)(S,{name:"unit",options:V,onChange:function(e){o(c,e)},error:null===d||void 0===d||null===(i=d[c])||void 0===i?void 0:i.unit})]})]})},M=Object(l.memo)(J),P=function(e){return Object(C.jsx)("code",{children:JSON.stringify(e,null,2)})},A=Object(l.memo)(P),B=g.a.div(o||(o=Object(f.a)(["\n  max-width: 700px;\n  padding: 30px;\n  height: calc(100vh - 220px);\n  overflow: auto;\n\n  .name-input {\n    margin-bottom: 20px;\n  }\n\n  .add-project {\n    margin: 15px 0;\n\n    span {\n      margin-right: 5px;\n    }\n  }\n\n  margin-bottom: 60px;\n\n  .buttons-container {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    bottom: 10px;\n    left: 0;\n\n    .submit-buttons {\n      display: flex;\n      justify-content: space-between;\n      padding: 0 20px;\n\n      button {\n        background-color: #09e69c;\n        color: white;\n        border: 1px solid #07a36f;\n        border-radius: 4px;\n        padding: 10px 15px;\n        cursor: pointer;\n      }\n    }\n\n    .switch-button {\n      align-self: flex-start;\n      padding-left: 20px;\n      padding-bottom: 10px;\n\n      button {\n        border: none;\n        background-color: transparent;\n        cursor: pointer;\n        color: #0bd6d6;\n      }\n    }\n  }\n"]))),E=function(){var e=Object(l.useState)(!0),n=Object(b.a)(e,2),t=n[0],a=n[1],i=O({validations:D,onSubmit:function(e){return alert("User submitted!, ".concat(JSON.stringify(e)))},initialValues:q}),r=i.handleSubmit,o=i.handleChange,s=i.setFieldValue,c=i.resetForm,d=i.data,j=i.errors,p=function(e,n){var t=d.details;t[e][n.target.name]=n.target.value,s("details",t)};return Object(C.jsx)(B,{children:Object(C.jsxs)("form",{className:"registration-wrapper",onSubmit:r,children:[t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N,{name:"name",placeholder:"Name*",value:d.name||"",onChange:o("name"),error:j.name,className:"name-input"}),Object(C.jsx)(v.a,{value:d.projects,isMulti:!0,name:"projects",options:F,onChange:function(e){return s("projects",e)}}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"add-project",children:[Object(C.jsx)("span",{children:"Projects Details"}),Object(C.jsx)("button",{type:"button",onClick:function(){var e=[].concat(Object(u.a)(d.details),[{project:"",details:"",duration:"",unit:""}]);s("details",e)},children:"+"})]}),d.details.map((function(e,n){return Object(C.jsx)(M,{index:n,details:d.details,projects:d.projects,handleDetailsChange:p,errors:null===j||void 0===j?void 0:j.details,handleDelete:function(){return function(e){d.details.splice(e,1),s("details",d.details)}(n)}},n)}))]})]}):Object(C.jsx)(A,{data:d}),Object(C.jsxs)("div",{className:"buttons-container",children:[Object(C.jsx)("div",{className:"switch-button",children:Object(C.jsx)("button",{type:"button",onClick:function(){return a((function(e){return!e}))},children:t?"TO JSON":"TO FORM"})}),Object(C.jsxs)("div",{className:"submit-buttons",children:[Object(C.jsx)("button",{type:"button",onClick:c,children:"Cancel"}),Object(C.jsx)("button",{type:"submit",className:"submit",children:"Submit"})]})]})]})})},I=Object(l.memo)(E);t(46);var R=function(){return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("header",{className:"app-header",children:Object(C.jsx)("h1",{children:"User projects"})}),Object(C.jsx)(I,{})]})},Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,48)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),a(e),i(e),r(e),o(e)}))};d.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(R,{})}),document.getElementById("root")),Y()}},[[47,1,2]]]);
//# sourceMappingURL=main.22152db5.chunk.js.map